{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?a27a"],"names":["class","for","value","loading","request","title","back","fio","phone","currency","amount","type","status","id","remove","hasChanges","update","$route","params","components","AppPage","AppLoader","AppStatus","setup","route","router","store","dispatch","data","console","log","push","render"],"mappings":"2IAGO,eAAoB,cAAZ,OAAG,G,EACX,eAAwB,cAAhB,WAAO,G,EACf,eAAsB,cAAd,SAAK,G,EACb,eAAuB,cAAf,UAAM,G,iBAAS,M,GAErBA,MAAM,gB,EACT,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAO9BF,MAAM,0B,8HApBC,EAAAG,S,iBAAlB,eAAwC,YACnB,EAAAC,S,iBAArB,eAkBW,G,MAlBmBC,MAAM,SAASC,KAAA,I,yBAC3C,iBAA8C,CAA9C,eAA8C,UAA3C,E,eAAoB,KAAE,eAAG,EAAAF,QAAQG,KAAG,KACvC,eAAoD,UAAjD,E,eAAwB,KAAE,eAAG,EAAAH,QAAQI,OAAK,KAC7C,eAA6D,UAA1D,E,eAAsB,KAAE,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACrD,eAAgF,UAA7E,E,EAAyB,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAEvD,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CACjC,EACA,EACA,EACA,G,cAJ2B,EAAAA,YAQ/B,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WAC7B,EAAAC,Y,iBAAd,eAAuE,U,MAA7Cf,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAAQ,a,mDAExD,eAAuF,KAAvF,EAA0C,gBAAa,eAAG,EAAAC,OAAOC,OAAOL,IAAK,QAAK,I,gHAYrE,GACbM,WAAY,CAAEC,UAAA,KAASC,YAAA,KAAWC,YAAA,MAClCC,MAFa,WAGX,IAAMC,EAAQ,iBACRC,EAAS,iBACTC,EAAQ,iBACRvB,EAAU,gBAAI,GACdC,EAAU,eAAI,IACdQ,EAAS,iBAEf,eAAS,wCAAC,2GACRT,EAAQD,OAAQ,EADR,SAEcwB,EAAMC,SAAS,mBAAoBH,EAAMN,OAAOL,IAF9D,OAERT,EAAQF,MAFA,OAGRU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJR,4CAOV,IAAMa,EAAa,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAE5Dc,EAAK,yDAAI,2GACPY,EADO,iCACKxB,EAAQF,OADb,IACoBU,OAAQA,EAAOV,MAAOW,GAAIW,EAAMN,OAAOL,KAD3D,SAEPa,EAAMC,SAAS,iBAAkBC,GAF1B,OAGbxB,EAAQF,MAAMU,OAASA,EAAOV,MAHjB,2CAAJ,qDAMX2B,QAAQC,IAAIJ,EAAO,SAEnB,IAAMZ,EAAK,yDAAI,qGACbe,QAAQC,IAAIJ,EAAO,OADN,SAEPA,EAAMC,SAAS,iBAAkBH,EAAMN,OAAOL,IAFvC,OAGbY,EAAOM,KAAK,KAHC,2CAAJ,qDAMX,MAAO,CAAE5B,UAASC,UAASK,WAAA,KAAUO,SAAQF,SAAQF,SAAQG,gBC/DjE,EAAOiB,OAASA,EAED","file":"js/chunk-2d0a4783.252754f1.js","sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page v-else-if=\"request\" title=\"Заявка\" back>\n    <p><strong>ФИО</strong>: {{ request.fio }}</p>\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\"></app-status></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"done\">Завершен</option>\n        <option value=\"cancelled\">Отменен</option>\n        <option value=\"active\">Активен</option>\n        <option value=\"pending\">Выполняется</option>\n      </select>\n    </div>\n\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button v-if=\"hasChanges\" class=\"btn\" @click=\"update\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">Заявки с id: {{ $route.params.id }} нет.</h3>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { currency } from '../utils/currency';\nimport AppPage from '../components/ui/AppPage.vue';\nimport AppLoader from '../components/ui/AppLoader.vue';\nimport AppStatus from '../components/ui/AppStatus.vue';\n\nexport default {\n  components: { AppPage, AppLoader, AppStatus },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    const loading = ref(true);\n    const request = ref({});\n    const status = ref();\n\n    onMounted(async () => {\n      loading.value = true;\n      request.value = await store.dispatch('request/loadById', route.params.id);\n      status.value = request.value?.status;\n      loading.value = false;\n    });\n\n    const hasChanges = computed(() => request.value.status !== status.value);\n\n    const update = async () => {\n      const data = { ...request.value, status: status.value, id: route.params.id };\n      await store.dispatch('request/update', data);\n      request.value.status = status.value;\n    };\n\n    console.log(store, 'store');\n\n    const remove = async () => {\n      console.log(store, 'wqe');\n      await store.dispatch('request/remove', route.params.id);\n      router.push('/');\n    };\n\n    return { loading, request, currency, update, remove, status, hasChanges };\n  },\n};\n</script>\n\n<style scoped></style>\n","import { render } from \"./Request.vue?vue&type=template&id=2fa7d75e\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}